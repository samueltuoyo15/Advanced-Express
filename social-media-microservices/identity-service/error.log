{"code":8000,"codeName":"AtlasError","connectionGeneration":0,"errorLabelSet":{},"errorResponse":{"code":8000,"codeName":"AtlasError","errmsg":"bad auth : authentication failed","ok":0},"level":"error","message":"Failed to connect to mongodb bad auth : authentication failed","ok":0,"service":"identity-service","stack":"MongoServerError: bad auth : authentication failed\n    at Connection.sendCommand (/data/data/com.termux/files/home/Advanced-Express/social-media-microservices/identity-service/node_modules/mongodb/src/cmap/connection.ts:551:17)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async Connection.command (/data/data/com.termux/files/home/Advanced-Express/social-media-microservices/identity-service/node_modules/mongodb/src/cmap/connection.ts:625:22)\n    at async continueScramConversation (/data/data/com.termux/files/home/Advanced-Express/social-media-microservices/identity-service/node_modules/mongodb/src/cmap/auth/scram.ts:187:13)\n    at async executeScram (/data/data/com.termux/files/home/Advanced-Express/social-media-microservices/identity-service/node_modules/mongodb/src/cmap/auth/scram.ts:114:3)\n    at async ScramSHA1.auth (/data/data/com.termux/files/home/Advanced-Express/social-media-microservices/identity-service/node_modules/mongodb/src/cmap/auth/scram.ts:60:12)\n    at async performInitialHandshake (/data/data/com.termux/files/home/Advanced-Express/social-media-microservices/identity-service/node_modules/mongodb/src/cmap/connect.ts:164:7)\n    at async connect (/data/data/com.termux/files/home/Advanced-Express/social-media-microservices/identity-service/node_modules/mongodb/src/cmap/connect.ts:43:5)","timestamp":"2025-05-17T14:04:23.674Z"}
{"code":"ENOTFOUND","hostname":"_mongodb._tcp.cluster0.txibm.mongodb.net","level":"error","message":"Failed to connect to mongodb querySrv ENOTFOUND _mongodb._tcp.cluster0.txibm.mongodb.net","service":"identity-service","stack":"Error: querySrv ENOTFOUND _mongodb._tcp.cluster0.txibm.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:294:17)","syscall":"querySrv","timestamp":"2025-05-17T15:02:04.498Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","7":" ","level":"error","message":"unhandled Rejection at:","service":"identity-service","timestamp":"2025-05-17T15:07:39.399Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","7":" ","level":"error","message":"unhandled Rejection at:","service":"identity-service","timestamp":"2025-05-17T15:07:39.405Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","7":" ","level":"error","message":"unhandled Rejection at:","service":"identity-service","timestamp":"2025-05-17T15:10:36.316Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"unhandled Rejection at:","service":"identity-service","timestamp":"2025-05-17T16:43:48.519Z"}
{"level":"error","message":"Internal Server Error secretOrPrivateKey must have a value","service":"identity-service","stack":"Error: secretOrPrivateKey must have a value\n    at Object.module.exports [as sign] (/data/data/com.termux/files/home/Advanced-Express/social-media-microservices/identity-service/node_modules/jsonwebtoken/sign.js:111:20)\n    at generateTokens (/data/data/com.termux/files/home/Advanced-Express/social-media-microservices/identity-service/src/utils/generateToken.ts:6:27)\n    at registerUser (/data/data/com.termux/files/home/Advanced-Express/social-media-microservices/identity-service/src/controllers/identity.controller.ts:29:63)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-05-17T17:08:07.714Z"}
{"code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.refreshtokens index: token_1 dup key: { token: \"function model(doc, fields, skipId) {\n      model.hooks.execPreSync('createModel', doc);\n      if (!(this instanceof model)) {\n        return new mode...\" }","index":0,"keyPattern":{"token":1},"keyValue":{"token":"function model(doc, fields, skipId) {\n      model.hooks.execPreSync('createModel', doc);\n      if (!(this instanceof model)) {\n        return new model(doc, fields, skipId);\n      }\n      const discriminatorKey = model.schema.options.discriminatorKey;\n\n      if (model.discriminators == null || doc == null || doc[discriminatorKey] == null) {\n        Model.call(this, doc, fields, skipId);\n        return;\n      }\n\n      // If discriminator key is set, use the discriminator instead (gh-7586)\n      const Discriminator = model.discriminators[doc[discriminatorKey]] ||\n        getDiscriminatorByValue(model.discriminators, doc[discriminatorKey]);\n      if (Discriminator != null) {\n        return new Discriminator(doc, fields, skipId);\n      }\n\n      // Otherwise, just use the top-level model\n      Model.call(this, doc, fields, skipId);\n    }"}},"index":0,"keyPattern":{"token":1},"keyValue":{"token":"function model(doc, fields, skipId) {\n      model.hooks.execPreSync('createModel', doc);\n      if (!(this instanceof model)) {\n        return new model(doc, fields, skipId);\n      }\n      const discriminatorKey = model.schema.options.discriminatorKey;\n\n      if (model.discriminators == null || doc == null || doc[discriminatorKey] == null) {\n        Model.call(this, doc, fields, skipId);\n        return;\n      }\n\n      // If discriminator key is set, use the discriminator instead (gh-7586)\n      const Discriminator = model.discriminators[doc[discriminatorKey]] ||\n        getDiscriminatorByValue(model.discriminators, doc[discriminatorKey]);\n      if (Discriminator != null) {\n        return new Discriminator(doc, fields, skipId);\n      }\n\n      // Otherwise, just use the top-level model\n      Model.call(this, doc, fields, skipId);\n    }"},"level":"error","message":"Internal Server Error E11000 duplicate key error collection: test.refreshtokens index: token_1 dup key: { token: \"function model(doc, fields, skipId) {\n      model.hooks.execPreSync('createModel', doc);\n      if (!(this instanceof model)) {\n        return new mode...\" }","service":"identity-service","stack":"MongoServerError: E11000 duplicate key error collection: test.refreshtokens index: token_1 dup key: { token: \"function model(doc, fields, skipId) {\n      model.hooks.execPreSync('createModel', doc);\n      if (!(this instanceof model)) {\n        return new mode...\" }\n    at InsertOneOperation.execute (/data/data/com.termux/files/home/Advanced-Express/social-media-microservices/identity-service/node_modules/mongodb/src/operations/insert.ts:88:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async tryOperation (/data/data/com.termux/files/home/Advanced-Express/social-media-microservices/identity-service/node_modules/mongodb/src/operations/execute_operation.ts:283:14)\n    at async executeOperation (/data/data/com.termux/files/home/Advanced-Express/social-media-microservices/identity-service/node_modules/mongodb/src/operations/execute_operation.ts:115:12)\n    at async Collection.insertOne (/data/data/com.termux/files/home/Advanced-Express/social-media-microservices/identity-service/node_modules/mongodb/src/collection.ts:285:12)","timestamp":"2025-05-18T21:30:35.312Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.users index: full_name_1 dup key: { full_name: \"dhrjfjfngmgmk\" }","index":0,"keyPattern":{"full_name":1},"keyValue":{"full_name":"dhrjfjfngmgmk"}},"index":0,"keyPattern":{"full_name":1},"keyValue":{"full_name":"dhrjfjfngmgmk"},"level":"error","message":"unhandled Rejection at:","service":"identity-service","timestamp":"2025-05-18T21:30:35.790Z"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","code":11000,"errorLabelSet":{},"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: test.users index: full_name_1 dup key: { full_name: \"dhrjfjfngmgmk\" }","index":0,"keyPattern":{"full_name":1},"keyValue":{"full_name":"dhrjfjfngmgmk"}},"index":0,"keyPattern":{"full_name":1},"keyValue":{"full_name":"dhrjfjfngmgmk"},"level":"error","message":"unhandled Rejection at:","service":"identity-service","timestamp":"2025-05-18T21:37:45.523Z"}
